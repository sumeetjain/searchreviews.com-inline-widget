<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>getcode</title>
	
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js"></script>

	<script type="text/javascript" charset="utf-8">
		$(function(){
			window.params = {};
			
			$("#form :input").change(function(){
				var key = $(this).attr('id');
				var value = $(this).val();

				window.params[key] = value; // Fill up the object with params
				var queryString = 'width=' + window.params.width + "&height=" + window.params.height + "&keywords=" + window.params.keywords;
				
				var codeString = '\<script type="text/javascript" src="http://searchreviews.com/widget/widget_inline.jsp?' + queryString + '" id="searchReviewsInlineWidgetRef"\>\</script\>\n\n';
				codeString += '\<a id="inlineWidgetLink" href="http://searchreviews.com/search.jsp?reviews=' + window.params.keywords + '"\>Reviews for ' + window.params.keywords + '\</a\>'

				$("#codeBlock").val(codeString);
				
				$("#preview").html('<iframe src="inline-widget-stage.html?' + queryString + '" id="previewIframe" scrolling="no"></iframe>');
			}).change();
						
		});
	</script>
	
	<style type="text/css" media="screen">
		.clearfix:after{
			content: ".";
			display: block;
			visibility: hidden;
			width: 0;
			height: 0;
			overflow: hidden;
		}
		.clearfix{
			zoom: 1;
		}
		
		#form{
		}
		
		#previewIframe{
			border: none;
			padding: 0;
			margin: 0;
			overflow: visible;
			width: 100%;
			height: 100%;
		}
	</style>
</head>
<body class="clearfix">
	
	<div id="form">
		<form id="inlineWidget">
			<div class="formItem">
				<label for="keywords">Search Keywords</label>
				<input type="text" id="keywords" value="iphone 5" />
			</div>
			
			<div class="formItem">
				<label for="width">Width</label>
				<input type="text" id="width" value="350" />
			</div>
			
			<div class="formItem">
				<label for="height">Height</label>
				<input type="text" id="height" value="475" />
			</div>
		</form>

		<textarea id="codeBlock" rows="20" cols="50">

&lt;script type="text/javascript" src="inline-widget.js" id="searchReviewsInlineWidgetRef"&gt;&lt;/script&gt;
		</textarea>
	</div>

	<div id="preview">
	</div>

</body>
</html>
